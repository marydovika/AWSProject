(function(window){
var g=g||{};g.scope={};g.ASSUME_ES5=!1;g.ASSUME_ES6=!1;g.ASSUME_ES2020=!1;g.ASSUME_NO_NATIVE_MAP=!1;g.ASSUME_NO_NATIVE_SET=!1;g.ISOLATE_POLYFILLS=!1;g.FORCE_POLYFILL_PROMISE=!1;g.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;g.INSTRUMENT_ASYNC_CONTEXT=!0;g.objectCreate=g.ASSUME_ES5||typeof Object.create=="function"?Object.create:function(a){function b(){}b.prototype=a;return new b};
g.defineProperty=g.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};g.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};g.global=g.ASSUME_ES2020?globalThis:g.getGlobal(this);
g.IS_SYMBOL_NATIVE=typeof Symbol==="function"&&typeof Symbol("x")==="symbol";g.TRUST_ES6_POLYFILLS=!g.ISOLATE_POLYFILLS||g.IS_SYMBOL_NATIVE;g.polyfills={};g.propertyToPolyfillSymbol={};g.POLYFILL_PREFIX="$jscp$";g.polyfill=function(a,b,c,f){b&&(g.ISOLATE_POLYFILLS?g.polyfillIsolated(a,b,c,f):g.polyfillUnisolated(a,b,c,f))};
g.polyfillUnisolated=function(a,b){var c=g.global;a=a.split(".");for(var f=0;f<a.length-1;f++){var h=a[f];if(!(h in c))return;c=c[h]}a=a[a.length-1];f=c[a];b=b(f);b!=f&&b!=null&&g.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
g.polyfillIsolated=function(a,b,c){var f=a.split(".");a=f.length===1;var h=f[0];h=!a&&h in g.polyfills?g.polyfills:g.global;for(var m=0;m<f.length-1;m++){var p=f[m];if(!(p in h))return;h=h[p]}f=f[f.length-1];c=g.IS_SYMBOL_NATIVE&&c==="es6"?h[f]:null;b=b(c);b!=null&&(a?g.defineProperty(g.polyfills,f,{configurable:!0,writable:!0,value:b}):b!==c&&(g.propertyToPolyfillSymbol[f]===void 0&&(a=Math.random()*1E9>>>0,g.propertyToPolyfillSymbol[f]=g.IS_SYMBOL_NATIVE?g.global.Symbol(f):g.POLYFILL_PREFIX+a+"$"+
f),g.defineProperty(h,g.propertyToPolyfillSymbol[f],{configurable:!0,writable:!0,value:b})))};
g.getConstructImplementation=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if(g.TRUST_ES6_POLYFILLS&&typeof Reflect!="undefined"&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,f,h){c=b(c,f);h&&Reflect.setPrototypeOf(c,h.prototype);return c}}return function(c,f,h){h===void 0&&(h=c);h=g.objectCreate(h.prototype||Object.prototype);return Function.prototype.apply.call(c,h,f)||h}};g.construct={valueOf:g.getConstructImplementation}.valueOf();
g.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};g.setPrototypeOf=g.ASSUME_ES6||g.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:g.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
g.inherits=function(a,b){a.prototype=g.objectCreate(b.prototype);a.prototype.constructor=a;if(g.ASSUME_ES6||g.setPrototypeOf){var c=g.setPrototypeOf;c(a,b)}else for(c in b)if(c!="prototype")if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,c);f&&Object.defineProperty(a,c,f)}else a[c]=b[c];a.superClass_=b.prototype};g.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};g.arrayIterator=function(a){return{next:g.arrayIteratorImpl(a)}};
g.makeIterator=function(a){var b=typeof Symbol!="undefined"&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if(typeof a.length=="number")return g.arrayIterator(a);throw Error(String(a)+" is not an iterable or ArrayLike");};g.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};g.arrayFromIterable=function(a){return a instanceof Array?a:g.arrayFromIterator(g.makeIterator(a))};
g.createTemplateTagFirstArg=function(a){return g.createTemplateTagFirstArgWithRaw(a,a)};g.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;Object.freeze&&(Object.freeze(a),Object.freeze(b));return a};g.getRestArguments=function(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b};g.polyfill("Reflect",function(a){return a?a:{}},"es6","es3");g.polyfill("Reflect.construct",function(){return g.construct},"es6","es3");
g.polyfill("Reflect.setPrototypeOf",function(a){if(a)return a;if(g.setPrototypeOf){var b=g.setPrototypeOf;return function(c,f){try{return b(c,f),!0}catch(h){return!1}}}return null},"es6","es5");g.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};g.polyfill("Object.values",function(a){return a?a:function(b){var c=[],f;for(f in b)g.owns(b,f)&&c.push(b[f]);return c}},"es8","es3");
(function(){function a(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(d){return null}}function b(e){this.time=e.time;this.target=e.target;this.rootBounds=v(e.rootBounds);this.boundingClientRect=v(e.boundingClientRect);this.intersectionRect=v(e.intersectionRect||k());this.isIntersecting=!!e.intersectionRect;e=this.boundingClientRect;e=e.width*e.height;var d=this.intersectionRect;d=d.width*d.height;this.intersectionRatio=e?Number((d/e).toFixed(4)):this.isIntersecting?1:0}function c(e,
d){d=d||{};if(typeof e!="function")throw Error("callback must be a function");if(d.root&&d.root.nodeType!=1&&d.root.nodeType!=9)throw Error("root must be a Document or Element");this._checkForIntersections=f(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT);this._callback=e;this._observationTargets=[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(d.rootMargin);this.thresholds=this._initThresholds(d.threshold);this.root=d.root||null;this.rootMargin=this._rootMarginValues.map(function(l){return l.value+
l.unit}).join(" ");this._monitoringDocuments=[];this._monitoringUnsubscribes=[]}function f(e,d){var l=null;return function(){l||(l=setTimeout(function(){e();l=null},d))}}function h(e,d,l,n){typeof e.addEventListener=="function"?e.addEventListener(d,l,n||!1):typeof e.attachEvent=="function"&&e.attachEvent("on"+d,l)}function m(e,d,l,n){typeof e.removeEventListener=="function"?e.removeEventListener(d,l,n||!1):typeof e.detachEvent=="function"&&e.detachEvent("on"+d,l)}function p(e){try{var d=e.getBoundingClientRect()}catch(l){}if(!d)return k();
d.width&&d.height||(d={top:d.top,right:d.right,bottom:d.bottom,left:d.left,width:d.right-d.left,height:d.bottom-d.top});return d}function k(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function v(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function S(e,d){var l=d.top-e.top;e=d.left-e.left;return{top:l,left:e,height:d.height,width:d.width,bottom:l+d.height,right:e+d.width}}function da(e,d){for(;d;){if(d==e)return!0;
d=L(d)}return!1}function L(e){var d=e.parentNode;if(e.nodeType==9&&e!=D)return a(e);d&&d.assignedSlot&&(d=d.assignedSlot.parentNode);return d&&d.nodeType==11&&d.host?d.host:d}function ea(e){return e&&e.nodeType===9}if(typeof window==="object")if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,
"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var D=function(e){for(var d=a(e);d;)e=d.ownerDocument,d=a(e);return e}(window.document),J=[],E=null,F=null;c.prototype.THROTTLE_TIMEOUT=100;c.prototype.POLL_INTERVAL=null;c.prototype.USE_MUTATION_OBSERVER=!0;c._setupCrossOriginUpdater=function(){E||(E=function(e,d){F=e&&d?S(e,d):k();J.forEach(function(l){l._checkForIntersections()})});return E};c._resetCrossOriginUpdater=function(){F=E=null};c.prototype.observe=function(e){if(!this._observationTargets.some(function(d){return d.element==
e})){if(!e||e.nodeType!=1)throw Error("target must be an Element");this._registerInstance();this._observationTargets.push({element:e,entry:null});this._monitorIntersections(e.ownerDocument);this._checkForIntersections()}};c.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(d){return d.element!=e});this._unmonitorIntersections(e.ownerDocument);this._observationTargets.length==0&&this._unregisterInstance()};c.prototype.disconnect=function(){this._observationTargets=
[];this._unmonitorAllIntersections();this._unregisterInstance()};c.prototype.takeRecords=function(){var e=this._queuedEntries.slice();this._queuedEntries=[];return e};c.prototype._initThresholds=function(e){e=e||[0];Array.isArray(e)||(e=[e]);return e.sort().filter(function(d,l,n){if(typeof d!="number"||isNaN(d)||d<0||d>1)throw Error("threshold must be a number between 0 and 1 inclusively");return d!==n[l-1]})};c.prototype._parseRootMargin=function(e){e=(e||"0px").split(/\s+/).map(function(d){d=/^(-?\d*\.?\d+)(px|%)$/.exec(d);
if(!d)throw Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(d[1]),unit:d[2]}});e[1]=e[1]||e[0];e[2]=e[2]||e[0];e[3]=e[3]||e[1];return e};c.prototype._monitorIntersections=function(e){var d=e.defaultView;if(d&&this._monitoringDocuments.indexOf(e)==-1){var l=this._checkForIntersections,n=null,q=null;this.POLL_INTERVAL?n=d.setInterval(l,this.POLL_INTERVAL):(h(d,"resize",l,!0),h(e,"scroll",l,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in d&&(q=new d.MutationObserver(l),
q.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})));this._monitoringDocuments.push(e);this._monitoringUnsubscribes.push(function(){var w=e.defaultView;w&&(n&&w.clearInterval(n),m(w,"resize",l,!0));m(e,"scroll",l,!0);q&&q.disconnect()});e!=(this.root&&(this.root.ownerDocument||this.root)||D)&&(d=a(e))&&this._monitorIntersections(d.ownerDocument)}};c.prototype._unmonitorIntersections=function(e){var d=this._monitoringDocuments.indexOf(e);if(d!=-1){var l=this.root&&(this.root.ownerDocument||
this.root)||D;if(!this._observationTargets.some(function(q){q=q.element.ownerDocument;if(q==e)return!0;for(;q&&q!=l;)if(q=(q=a(q))&&q.ownerDocument,q==e)return!0;return!1})){var n=this._monitoringUnsubscribes[d];this._monitoringDocuments.splice(d,1);this._monitoringUnsubscribes.splice(d,1);n();e!=l&&(d=a(e))&&this._unmonitorIntersections(d.ownerDocument)}}};c.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var d=this._monitoringUnsubscribes.length=
0;d<e.length;d++)e[d]()};c.prototype._checkForIntersections=function(){if(this.root||!E||F){var e=this._rootIsInDom(),d=e?this._getRootRect():k();this._observationTargets.forEach(function(l){var n=l.element,q=p(n),w=this._rootContainsTarget(n),x=l.entry,M=e&&w&&this._computeTargetAndRootIntersection(n,q,d),G=null;if(!this._rootContainsTarget(n))G=k();else if(!E||this.root)G=d;l=l.entry=new b({time:window.performance&&performance.now&&performance.now(),target:n,boundingClientRect:q,rootBounds:G,intersectionRect:M});
x?e&&w?this._hasCrossedThreshold(x,l)&&this._queuedEntries.push(l):x&&x.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)},this);this._queuedEntries.length&&this._callback(this.takeRecords(),this)}};c.prototype._computeTargetAndRootIntersection=function(e,d,l){if(window.getComputedStyle(e).display!="none"){var n=d;d=L(e);for(e=!1;!e&&d;){var q=null,w=d.nodeType==1?window.getComputedStyle(d):{};if(w.display=="none")return null;if(d==this.root||d.nodeType==9)if(e=!0,d==this.root||
d==D)E&&!this.root?!F||F.width==0&&F.height==0?n=q=d=null:q=F:q=l;else{w=(d=L(d))&&p(d);var x=d&&this._computeTargetAndRootIntersection(d,w,l);w&&x?q=S(w,x):n=d=null}else x=d.ownerDocument,d!=x.body&&d!=x.documentElement&&w.overflow!="visible"&&(q=p(d));if(q){w=Math.max(q.top,n.top);x=Math.min(q.bottom,n.bottom);var M=Math.max(q.left,n.left);n=Math.min(q.right,n.right);q=n-M;var G=x-w;n=q>=0&&G>=0&&{top:w,bottom:x,left:M,right:n,width:q,height:G}||null}if(!n)break;d=d&&L(d)}return n}};c.prototype._getRootRect=
function(){if(this.root&&!ea(this.root))var e=p(this.root);else{var d=ea(this.root)?this.root:D;e=d.documentElement;d=d.body;e={top:0,left:0,right:e.clientWidth||d.clientWidth,width:e.clientWidth||d.clientWidth,bottom:e.clientHeight||d.clientHeight,height:e.clientHeight||d.clientHeight}}return this._expandRectByRootMargin(e)};c.prototype._expandRectByRootMargin=function(e){var d=this._rootMarginValues.map(function(l,n){return l.unit=="px"?l.value:l.value*(n%2?e.width:e.height)/100});d={top:e.top-
d[0],right:e.right+d[1],bottom:e.bottom+d[2],left:e.left-d[3]};d.width=d.right-d.left;d.height=d.bottom-d.top;return d};c.prototype._hasCrossedThreshold=function(e,d){e=e&&e.isIntersecting?e.intersectionRatio||0:-1;d=d.isIntersecting?d.intersectionRatio||0:-1;if(e!==d)for(var l=0;l<this.thresholds.length;l++){var n=this.thresholds[l];if(n==e||n==d||n<e!==n<d)return!0}};c.prototype._rootIsInDom=function(){return!this.root||da(D,this.root)};c.prototype._rootContainsTarget=function(e){var d=this.root&&
(this.root.ownerDocument||this.root)||D;return da(d,e)&&(!this.root||d==e.ownerDocument)};c.prototype._registerInstance=function(){J.indexOf(this)<0&&J.push(this)};c.prototype._unregisterInstance=function(){var e=J.indexOf(this);e!=-1&&J.splice(e,1)};window.IntersectionObserver=c;window.IntersectionObserverEntry=b}})();window._b64dec=aa;
function aa(a){a=String(a).replace(/[\t\n\f\r ]+/g,"");a+="==".slice(2-(a.length&3));for(var b,c="",f,h,m=0;m<a.length;)b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(m++))<<18|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(m++))<<12|(f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(m++)))<<6|(h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(m++))),c+=
f===64?String.fromCharCode(b>>16&255):h===64?String.fromCharCode(b>>16&255,b>>8&255):String.fromCharCode(b>>16&255,b>>8&255,b&255);return c};var ba,r=window;try{for(;r.parent!==r;)window.__utr_cross_origin=!!r.parent.document.getElementById,r=r.parent}catch(a){}ba=r;function t(){return Date.now?Date.now():+new Date}function ca(a){window.addEventListener("onpagehide"in window?"pagehide":"unload",function(){a(!0)});window.addEventListener("visibilitychange",function(){document.hidden?a(!0):a(!1)})}function fa(a,b){typeof b==="string"&&(b=b.split("."));return b.reduce(function(c,f){return c&&c[f]},a)};var ja={total:ha,continuous:ia};function ka(a,b){a.forEach(function(c){c.percent=b;c.visible=c.area<=b});a.forEach(la)}function la(a){var b=a.visible,c=a.lastUpdate,f=t();c=c?f-c:0;b?(a.partial+=c,a.lastUpdate=f):(a.partial=0,a.lastUpdate=0,a.type==="continuous"&&(c=0,a.totalTime=0));a.totalTime+=c}function ia(a){return a.time*1E3<=a.partial}function ha(a){return a.time*1E3<=a.totalTime};/*
 onlyTime && */
var ma={measured:!0,supported:!0};function na(a){ma.measured&&(ma.measured=!1,a.isMeasurable=1,u(y(a,a.counters)))}function oa(a,b,c){c=c===void 0?!1:c;b.forEach(function(f){var h=f.notifyOn,m=f.created,p=f.totalTimeTracker;h.length&&p&&(f.notifyOn=h.filter(function(k){if(t()-m>=k*1E3)return z(a,f),!1;c&&z(a,f);return!0}))})}
function z(a,b,c){var f=b.totalTime-(b.lastTimeNotified||0);b.totalTimeTracker&&b.notified&&f>=b.time*1E3?b.lastTimeNotified=b.totalTime:f=0;b.viewabilityTime=f;b.viewabilityTime>0&&u(y(a,[b],c===void 0?!0:c))}function u(a){a.forEach(function(b){b.length&&((new ba.Image).src=b)})}
function y(a,b){var c=a.isMeasurable,f={bId:a.bId,cid:a.cId,crid:a.crId,src:a.source,_:t()};return b.map(function(h){var m={};for(p in f)m[p]=f[p];var p=h.key||null;p!==null&&(m[p]=h.notified?1:0,m[p+"e"]=c);h.viewabilityTime>0&&(p!==null&&(m[p+"_time"]=h.viewabilityTime),h.viewabilityTime=0);if(p!==null||h.partial>0||h.totalTime>0){h=h.vmUrl;p=h.indexOf("?")!==-1?"&":"?";h+=p;p=[];for(var k in m)p.push(encodeURIComponent(k)+"="+encodeURIComponent(m[k]));m=p.join("&");m=h+m}else m="";return m})};for(var pa=[],A=0;A<=100;A++)pa.push(A/100);var B="IntersectionObserver"in window?new window.IntersectionObserver(qa,{threshold:pa}):null,ra=[];function sa(a,b){if(!("IntersectionObserver"in window&&a&&B))return!1;ra.push(b);B.observe(a);return!0}function qa(a){var b=0;a.forEach(function(c){b=Math.max(b,c.intersectionRatio)});b*=100;ra.forEach(function(c){return c(b)})};function C(a,b,c,f){this.guid=a;this.method=b;this.version=c;this.args=f}C.isValidSerializedMessage=function(a){return!!a&&a.omid_message_guid!==void 0&&a.omid_message_method!==void 0&&a.omid_message_version!==void 0&&typeof a.omid_message_guid==="string"&&typeof a.omid_message_method==="string"&&typeof a.omid_message_version==="string"&&(a.omid_message_args===void 0||a.omid_message_args!==void 0)};
C.deserialize=function(a){return new C(a.omid_message_guid,a.omid_message_method,a.omid_message_version,a.omid_message_args)};C.prototype.serialize=function(){var a={};a=(a.omid_message_guid=this.guid,a.omid_message_method=this.method,a.omid_message_version=this.version,a);this.args!==void 0&&(a.omid_message_args=this.args);return a};var H={AdEventType:{IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",
STATE_CHANGE:"stateChange"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",
ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},ErrorType:{GENERIC:"generic",VIDEO:"video",MEDIA:"media"},AdSessionType:{NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},EventOwner:{NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},SessionOwner:{JAVASCRIPT:"javascript",NATIVE:"native"},AccessMode:{FULL:"full",DOMAIN:"domain",LIMITED:"limited"},AppState:{BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},DeviceLockState:{LOCKED:"locked",UNLOCKED:"unlocked"},Environment:{APP:"app",
WEB:"web"},DeviceCategory:{CTV:"ctv",DESKTOP:"desktop",MOBILE:"mobile",OTHER:"other"},InteractionType:{CLICK:"click",INVITATION_ACCEPT:"invitationAccept"},CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},MediaType:{DISPLAY:"display",VIDEO:"video"},Reason:{NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",PICTURE_IN_PICTURE:"pictureInPicture",DEVICE_LOCKED:"deviceLocked",VIEWPORT:"viewport",
OBSTRUCTED:"obstructed",CLIPPED:"clipped",UNMEASURABLE:"unmeasurable",NO_WINDOW_FOCUS:"noWindowFocus",NO_OUTPUT_DEVICE:"noOutputDevice"},SupportedFeatures:{CONTAINER:"clid",VIDEO:"vlid"},VideoPosition:{PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},VideoPlayerState:{MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},NativeViewKeys:{X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",
IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels",HAS_WINDOW_FOCUS:"hasWindowFocus"},MeasurementStateChangeSource:{CONTAINER:"container",CREATIVE:"creative"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element"},CommunicationType:{NONE:"NONE",DIRECT:"DIRECT",
POST_MESSAGE:"POST_MESSAGE"},OmidImplementer:{OMSDK:"omsdk"},MessageMethod:{IDENTIFY_SERVICE_WINDOW:"identifyServiceWindow"}};function I(a){this.to=a;this.communicationType_=H.CommunicationType.NONE}I.prototype.sendMessage=function(){};I.prototype.handleMessage=function(a,b){if(this.onMessage)this.onMessage(a,b)};I.prototype.serialize=function(a){return JSON.stringify(a)};I.prototype.deserialize=function(a){return JSON.parse(a)};I.prototype.isDirectCommunication=function(){return this.communicationType_===H.CommunicationType.DIRECT};I.prototype.isCrossOrigin=function(){};function K(){var a=g.getRestArguments.apply(0,arguments);ta(function(){throw new (Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat((0,g.arrayFromIterable)(a))));},function(){return console.error.apply(console,(0,g.arrayFromIterable)(a))})}function ta(a,b){typeof jasmine!=="undefined"&&jasmine?a():typeof console!=="undefined"&&console&&console.error&&b()};var N={ApiVersion:"1.0",Version:"1.5.5-dev"};function ua(a,b){if(!b)throw Error("Value for "+a+" is undefined, null or blank.");if(typeof b!=="string"&&!(b instanceof String))throw Error("Value for "+a+" is not a string.");if(b.trim()==="")throw Error("Value for "+a+" is empty string.");}function O(a,b){if(!b)throw Error(a+" must not be truthy.");}
function P(a,b){if(b==null)throw Error(a+" must not be null or undefined.");if(typeof b!=="number"||isNaN(b))throw Error("Value for "+a+" is not a number");if(b<0)throw Error(a+" must be a positive number.");};function va(a,b){a=a.split("-")[0].split(".");b=b.split("-")[0].split(".");for(var c=0;c<3;c++){var f=parseInt(a[c],10),h=parseInt(b[c],10);if(f>h)break;else if(f<h)return!1}return!0};function wa(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a==="y"?(b&3|8).toString(16):b.toString(16);return a})};var Q={OMID_PRESENT_FRAME_NAME:"omid_v1_present",OMID_PRESENT_FRAME_NAME_WEB:"omid_v1_present_web",OMID_PRESENT_FRAME_NAME_APP:"omid_v1_present_app",getEnvironmentIframeName:function(a){var b={};return(b[H.Environment.APP]=Q.OMID_PRESENT_FRAME_NAME_APP,b[H.Environment.WEB]=Q.OMID_PRESENT_FRAME_NAME_WEB,b)[a]}};function xa(a,b){try{return a.frames&&!!a.frames[b]}catch(c){return!1}}
Q.isOmidPresent=function(a){return[Q.OMID_PRESENT_FRAME_NAME,Q.OMID_PRESENT_FRAME_NAME_WEB,Q.OMID_PRESENT_FRAME_NAME_APP].some(function(b){return xa(a,b)})};Q.getOmidEnvironment=function(a){for(var b=(0,g.makeIterator)(Object.values(H.Environment)),c=b.next();!c.done;c=b.next()){c=c.value;var f=Q.getEnvironmentIframeName(c);if(xa(a,f))return c}return null};function ya(a,b){a.document.write('<iframe style="display:none" id="'+(b+'" name="'+b+'" sandbox></iframe>'))}
Q.declareOmidPresence=function(a,b){a.frames&&a.document&&![Q.OMID_PRESENT_FRAME_NAME,Q.OMID_PRESENT_FRAME_NAME_WEB,Q.OMID_PRESENT_FRAME_NAME_APP].some(function(c){return!!a.frames[c]})&&(a.document.body==null&&Q.isMutationObserverAvailable_(a)?Q.registerMutationObserver_(a,b):(b=Q.getEnvironmentIframeName(b),a.document.body?(Q.appendPresenceIframe_(a,Q.OMID_PRESENT_FRAME_NAME),Q.appendPresenceIframe_(a,b)):(ya(a,Q.OMID_PRESENT_FRAME_NAME),ya(a,b))))};
Q.appendPresenceIframe_=function(a,b){var c=a.document.createElement("iframe");c.id=b;c.name=b;c.style.display="none";c.sandbox="";a.document.body.appendChild(c)};Q.isMutationObserverAvailable_=function(a){return"MutationObserver"in a};
Q.registerMutationObserver_=function(a,b){var c=new MutationObserver(function(f){f.forEach(function(h){h.addedNodes[0].nodeName==="BODY"&&(h=Q.getEnvironmentIframeName(b),Q.appendPresenceIframe_(a,Q.OMID_PRESENT_FRAME_NAME),Q.appendPresenceIframe_(a,h),c.disconnect())})});c.observe(a.document.documentElement,{childList:!0})};var za={SESSION_SERVICE:"SessionService.",VERIFICATION_SERVICE:"VerificationService."};var R={};R.omidGlobal=function(){if(typeof omidGlobal!=="undefined"&&omidGlobal)return omidGlobal;if(typeof global!=="undefined"&&global)return global;if(typeof window!=="undefined"&&window)return window;if(typeof globalThis!=="undefined"&&globalThis)return globalThis;var a=Function("return this")();if(a)return a;throw Error("Could not determine global object context.");}();function Aa(a,b){return a&&(a[b]||(a[b]={}))};function Ba(a){return a!=null&&typeof a.top!=="undefined"&&a.top!=null}function Ca(a){if(a===R.omidGlobal)return!1;try{if(typeof a.location.hostname==="undefined")return!0}catch(b){return!0}return!1}function Da(a){typeof a==="undefined"&&typeof window!=="undefined"&&window&&(a=window);return Ba(a)?a:R.omidGlobal};function T(a){I.call(this,a);this.communicationType_=H.CommunicationType.DIRECT;this.handleExportedMessage=T.prototype.handleExportedMessage.bind(this)}g.inherits(T,I);T.prototype.sendMessage=function(a,b){b=b===void 0?this.to:b;if(!b)throw Error("Message destination must be defined at construction time or when sending the message.");b.handleExportedMessage(a.serialize(),this)};T.prototype.handleExportedMessage=function(a,b){C.isValidSerializedMessage(a)&&this.handleMessage(C.deserialize(a),b)};
T.prototype.isCrossOrigin=function(){return!1};function U(a,b){b=b===void 0?R.omidGlobal:b;I.call(this,b);var c=this;this.communicationType_=H.CommunicationType.POST_MESSAGE;a.addEventListener("message",function(f){if(typeof f.data==="object"){var h=f.data;C.isValidSerializedMessage(h)&&(h=C.deserialize(h),f.source&&c.handleMessage(h,f.source))}})}g.inherits(U,I);U.isCompatibleContext=function(a){return!!(a&&a.addEventListener&&a.postMessage)};
U.prototype.sendMessage=function(a,b){b=b===void 0?this.to:b;if(!b)throw Error("Message destination must be defined at construction time or when sending the message.");b.postMessage(a.serialize(),"*")};U.prototype.isCrossOrigin=function(){return this.to?Ca(this.to):!0};var Ea=["omid","v1_VerificationServiceCommunication"],Fa=["omidVerificationProperties","serviceWindow"];function Ga(a,b){return b.reduce(function(c,f){return c&&c[f]},a)};function V(a){if(!a){a=Da();var b=void 0;b=b===void 0?Q.isOmidPresent:b;var c=[],f=Ga(a,Fa);f&&c.push(f);f=c.push;var h=Ba(a)?a.top:R.omidGlobal;f.call(c,h);a:{c=(0,g.makeIterator)(c);for(h=c.next();!h.done;h=c.next()){b:{f=a;h=h.value;var m=Ea,p=b;if(!Ca(h))try{var k=Ga(h,m);if(k){var v=new T(k);break b}}catch(S){}v=p(h)?new U(f,h):null}if(f=v){a=f;break a}}a=null}}(this.communication=a)?this.communication.onMessage=this.handleMessage_.bind(this):(v=(v=R.omidGlobal.omid3p)&&typeof v.registerSessionObserver===
"function"&&typeof v.addEventListener==="function"?v:null,v&&(this.omid3p=v));this.remoteIntervals_=this.remoteTimeouts_=0;this.callbackMap_={};this.imgCache_=[];this.injectionId_=(v=R.omidGlobal.omidVerificationProperties)?v.injectionId:void 0}V.prototype.isSupported=function(){return this.getEnvironment()!==H.Environment.WEB||this.injectionId_?!(!this.communication&&!this.omid3p):!1};
V.prototype.getEnvironment=function(){var a=Da();return this.injectionSource()||(0,Q.getOmidEnvironment)(a)||(0,Q.getOmidEnvironment)(Ba(a)?a.top:R.omidGlobal)};V.prototype.injectionSource=function(){var a=R.omidGlobal.omidVerificationProperties;if(a&&a.injectionSource)return a.injectionSource};V.prototype.registerSessionObserver=function(a,b){O("functionToExecute",a);this.omid3p?this.omid3p.registerSessionObserver(a,b,this.injectionId_):this.sendMessage_("addSessionListener",a,b,this.injectionId_)};
V.prototype.addEventListener=function(a,b){ua("eventType",a);O("functionToExecute",b);this.omid3p?this.omid3p.addEventListener(a,b,this.injectionId_):this.sendMessage_("addEventListener",b,a,this.injectionId_)};V.prototype.sendUrl=function(a,b,c){ua("url",a);R.omidGlobal.document&&R.omidGlobal.document.createElement?this.sendUrlWithImg_(a,b,c):this.sendMessage_("sendUrl",function(f){f&&b?b():!f&&c&&c()},a)};
V.prototype.sendUrlWithImg_=function(a,b,c){function f(p){var k=h.imgCache_.indexOf(m);k>=0&&h.imgCache_.splice(k,1);p&&p()}var h=this,m=R.omidGlobal.document.createElement("img");this.imgCache_.push(m);m.addEventListener("load",f.bind(this,b));m.addEventListener("error",f.bind(this,c));m.src=a};
V.prototype.injectJavaScriptResource=function(a,b,c){var f=this;ua("url",a);R.omidGlobal.document?this.injectJavascriptResourceUrlInDom_(a,b,c):this.sendMessage_("injectJavaScriptResource",function(h,m){h?(f.evaluateJavaScript_(m,a),b()):(K("Service failed to load JavaScript resource."),c())},a)};V.prototype.injectJavascriptResourceUrlInDom_=function(a,b,c){var f=R.omidGlobal.document,h=f.body;f=f.createElement("script");f.onload=b;f.onerror=c;f.src=a;f.type="application/javascript";h.appendChild(f)};
V.prototype.evaluateJavaScript_=function(a,b){try{eval(a)}catch(c){K('Error evaluating the JavaScript resource from "'+b+'".')}};V.prototype.setTimeout=function(a,b){O("functionToExecute",a);P("timeInMillis",b);if(this.hasTimeoutMethods_())return R.omidGlobal.setTimeout(a,b);var c=this.remoteTimeouts_++;this.sendMessage_("setTimeout",a,c,b);return c};
V.prototype.clearTimeout=function(a){P("timeoutId",a);this.hasTimeoutMethods_()?R.omidGlobal.clearTimeout(a):this.sendOneWayMessage_("clearTimeout",a)};V.prototype.setInterval=function(a,b){O("functionToExecute",a);P("timeInMillis",b);if(this.hasIntervalMethods_())return R.omidGlobal.setInterval(a,b);var c=this.remoteIntervals_++;this.sendMessage_("setInterval",a,c,b);return c};
V.prototype.clearInterval=function(a){P("intervalId",a);this.hasIntervalMethods_()?R.omidGlobal.clearInterval(a):this.sendOneWayMessage_("clearInterval",a)};V.prototype.hasTimeoutMethods_=function(){return typeof R.omidGlobal.setTimeout==="function"&&typeof R.omidGlobal.clearTimeout==="function"};V.prototype.hasIntervalMethods_=function(){return typeof R.omidGlobal.setInterval==="function"&&typeof R.omidGlobal.clearInterval==="function"};
V.prototype.handleMessage_=function(a){var b=a.method,c=a.guid;a=a.args;if(b==="response"&&this.callbackMap_[c]){var f=N.Version;f=/\d+\.\d+\.\d+(-.*)?/.test(f)&&va(f,"1.0.3")?a?a:[]:a&&typeof a==="string"?JSON.parse(a):[];this.callbackMap_[c].apply(this,f)}b==="error"&&window.console&&K(a)};V.prototype.sendOneWayMessage_=function(a){var b=g.getRestArguments.apply(1,arguments);this.sendMessage_.apply(this,[a,null].concat((0,g.arrayFromIterable)(b)))};
V.prototype.sendMessage_=function(a,b){var c=g.getRestArguments.apply(2,arguments);if(this.communication){var f=wa();b&&(this.callbackMap_[f]=b);var h=za.VERIFICATION_SERVICE+a,m=N.Version,p=N.Version;c=/\d+\.\d+\.\d+(-.*)?/.test(p)&&va(p,"1.0.3")?c:JSON.stringify(c);f=new C(f,h,m,c);this.communication.sendMessage(f)}};var W=void 0;if(W=W===void 0?typeof omidExports==="undefined"?null:omidExports:W){var X=["OmidVerificationClient"];X.slice(0,X.length-1).reduce(Aa,W)[X[X.length-1]]=V};var Y=new V;function Ha(a){Y.registerSessionObserver(Ia(a),"eskimi.com-omid");Y.addEventListener("impression",Ia(a));Y.addEventListener("geometryChange",Ia(a))}function Ia(a){return function(b){b=fa(b,"data.adView.percentageInView");b>=0&&a(b)}};var Ja=window.document,Ka=0;
function La(a,b){function c(k,v){(v===void 0?0:v)||(Ka=k);ka(h,k);f()}function f(){h.forEach(la);h.forEach(function(k){ja[k.type](k)&&!k.notified&&(k.notified=!0,k.totalTimeTracker?(k.type==="continuous"&&(k.type="total",k.totalTime=k.partial,k.lastUpdate=t()),z(a,k,!1)):u(y(a,[k],!1)))});oa(a,h);h.filter(function(k){return!k.notified||k.totalTimeTracker&&k.notifyOn.length>0||t()-k.created<k.notifyUntil*1E3}).length===0&&(clearInterval(p),B.unobserve(b))}var h=a.counters.map(function(k){k.type=k.type||
"continuous";k.totalTimeTracker=k.totalTimeTracker||!1;k.notifyOn=k.notifyOn||[180];k.notifyUntil=k.notifyOn[k.notifyOn.length-1];k.visible=!1;k.partial=0;k.totalTime=0;k.created=t();return k}),m=Y.isSupported();m?Ha(c):m=sa(b,c);if(m){na(a);var p=setInterval(f,100);ca(function(k){k?(c(0,!0),oa(a,h,!0)):c(Ka)})}}function Ma(a,b,c){var f=a.baId;(f=a.isFloating?window.__eFlAdEl:Ja.getElementById(f))?c(a,f):t()-b<65535&&setTimeout(function(){Ma(a,b,c)},100)};var Na=window.document.getElementById("__eutrs"),Z=JSON.parse(aa(Na.dataset.vcntr)),Oa=Z.baId,Pa=Z.bId,Qa=Z.cId||0,Ra=Z.crId||0,Sa=Z.fla,Ta=Z.src,Ua=Z.vmUrl,Va=Z.counters;Va.forEach(function(a){a.vmUrl=a.vmUrl||Ua});Pa&&Oa&&Ma({viewEndpointUrl:Ua,bId:Pa,baId:Oa,cId:Qa,crId:Ra,source:Ta,isMeasurable:0,isFloating:Sa,counters:Va},t(),La);
})(window);
