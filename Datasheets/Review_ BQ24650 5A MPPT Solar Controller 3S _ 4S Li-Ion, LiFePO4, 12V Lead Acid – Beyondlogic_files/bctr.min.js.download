(function(){function e(e){let n=e;for(;n&&"BODY"!==n.tagName;)n=n.parentNode;return n}function n(e,n,o){var t=new URL(e);return t.searchParams.delete("x"),t.searchParams.delete("y"),t.searchParams.append("x",n),t.searchParams.append("y",o),t.toString()}function o(n){var o=window.pageXOffset||document.documentElement.scrollLeft||window.scrollX||document.body.scrollLeft,t=window.pageYOffset||document.documentElement.scrollTop||window.scrollY||document.body.scrollTop,c=e(n.target).getBoundingClientRect();return{x:parseInt(n.clientX-Math.max(0,c.left)+o),y:parseInt(n.clientY-Math.max(0,c.top)+t)}}var t={init:function(t,c,l,d="",r=""){var a=document.getElementById(t);function i(e,n,o,t,c){var a=t?1:0,i=Object.keys(c).map((e=>e+"="+c[e])).join("&");return l+"?x="+e+"&y="+n+"&bidId="+encodeURIComponent(o)+"&cid="+d+"&crid="+r+"&isBeacon="+a+"&"+i}"BODY"!==a.tagName&&(a=e(a)),a.addEventListener("click",(function(e){var l=o(e),d={pageXOffset:window.pageXOffset,documentElementScrollLeft:document.documentElement.scrollLeft,windowScrollX:window.scrollX,bodyScrollLeft:document.body.scrollLeft,pageYOffset:window.pageYOffset,documentElementScrollTop:document.documentElement.scrollTop,windowScrollY:window.scrollY,bodyScrollTop:document.body.scrollTop,clientX:e.clientX,clientY:e.clientY},r=l.x,a=l.y,m=document.getElementById(t);("A"==m.tagName&&(m.href=n(m.href,r,a)),navigator.sendBeacon)?navigator.sendBeacon(i(r,a,c,!0,d)):(new Image).src=i(r,a,c,!1,d)}))},modifyClickUrl:function(e){var t=o(e),c=t.x,l=t.y;void 0!==window.clickTag&&window.clickTag.length&&(window.clickTag=n(window.clickTag,c,l))}};void 0===window.__ebctr&&(window.__ebctr=t)})();